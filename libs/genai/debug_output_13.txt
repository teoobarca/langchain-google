/Users/hamper/Documents/Programming/nexana/langchain-google/.venv/lib/python3.14/site-packages/langsmith/schemas.py:22: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  from pydantic.v1 import (
============================= test session starts ==============================
platform darwin -- Python 3.14.0, pytest-9.0.1, pluggy-1.6.0
rootdir: /Users/hamper/Documents/Programming/nexana/langchain-google/libs/genai
configfile: pyproject.toml
plugins: anyio-4.11.0, langsmith-0.4.46
collected 11 items

tests/unit_tests/test_chat_models.py DEBUG: AIMessage content='Mike age is 30'
.DEBUG: AIMessage content=['Mike age is 30', 'Arthur age is 30']
.DEBUG: AIMessage content=[{'type': 'image_url', 'image_url': {'url': 'data:image/bmp;base64,Qk0eAAAAAAAAABoAAAAMAAAAAQABAAEAGAAAAP8A'}}]
.DEBUG: AIMessage content=['This is a 1x1 BMP.', {'type': 'image_url', 'image_url': {'url': 'data:image/bmp;base64,Qk0eAAAAAAAAABoAAAAMAAAAAQABAAEAGAAAAP8A'}}]
.DEBUG: AIMessage content=None
.DEBUG: AIMessage content=None
.DEBUG: AIMessage content=None
.DEBUG: AIMessage content=None
.DEBUG: AIMessage content='Mike age is 30'
.DEBUG: AIMessage content='Mike age is 30'
.F

=================================== FAILURES ===================================
____________ test_parse_response_candidate_includes_model_provider _____________

    def test_parse_response_candidate_includes_model_provider() -> None:
        """Test `_parse_response_candidate` has `model_provider` in `response_metadata`."""
        raw_candidate = {
            "content": {"parts": [{"text": "Hello, world!"}]},
            "finish_reason": 1,
            "safety_ratings": [],
        }
    
>       response_candidate = genai_types.Candidate.model_validate(raw_candidate)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       pydantic_core._pydantic_core.ValidationError: 1 validation error for Candidate
E       finish_reason
E         Input should be 'FINISH_REASON_UNSPECIFIED', 'STOP', 'MAX_TOKENS', 'SAFETY', 'RECITATION', 'LANGUAGE', 'OTHER', 'BLOCKLIST', 'PROHIBITED_CONTENT', 'SPII', 'MALFORMED_FUNCTION_CALL', 'IMAGE_SAFETY', 'UNEXPECTED_TOOL_CALL', 'IMAGE_PROHIBITED_CONTENT' or 'NO_IMAGE' [type=enum, input_value=1, input_type=int]
E           For further information visit https://errors.pydantic.dev/2.12/v/enum

tests/unit_tests/test_chat_models.py:1211: ValidationError
=============================== warnings summary ===============================
../../.venv/lib/python3.14/site-packages/_pytest/config/__init__.py:1397
  /Users/hamper/Documents/Programming/nexana/langchain-google/.venv/lib/python3.14/site-packages/_pytest/config/__init__.py:1397: PytestConfigWarning: Unknown config option: asyncio_mode
  
    self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")

../../.venv/lib/python3.14/site-packages/google/genai/types.py:43
  /Users/hamper/Documents/Programming/nexana/langchain-google/.venv/lib/python3.14/site-packages/google/genai/types.py:43: DeprecationWarning: '_UnionGenericAlias' is deprecated and slated for removal in Python 3.17
    VersionedUnionType = Union[builtin_types.UnionType, _UnionGenericAlias]

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/unit_tests/test_chat_models.py::test_parse_response_candidate_includes_model_provider
=================== 1 failed, 10 passed, 2 warnings in 1.49s ===================
